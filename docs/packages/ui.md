# @restroom-mw/ui

This is a handy middleware that creates a [Swagger UI](https://swagger.io/tools/swagger-ui/) out of your contracts

## Usage

```js
const express = require("express");
const core = require("@restroom-mw/core");
const ui = require("@restroom-mw/ui");

const app = express();
app.use("/api/*", core);
app.use("/docs/", ui);
```

## CONFIGURATION

```js
app.use("/docs/:root", ui.default({
    path:SomePath,
    isDataPublic: true,
    defaultPort:SomePortNumber,
    defaultProtocol:'http'}));
```
* path: **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** use it to define the root for where to look at folders
* req.root: optional, use it to define a specific root inside path for where to look at folders 
* isDataPublic: **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** default `false`, use it to retrieve data from contracts
* defaultPort: **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** use it for define the default port
* defaultProtocol: **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** use it for define the default protocol

Examples: to retrieve contracts from a path like `/contracts/someFolder` you can use both path and req.root:
```js
app.use("/docs/:root", ui.default({path:'contracts'}));
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

*   [ls](#ls)
    *   [Parameters](#parameters)
*   [generate](#generate)
    *   [Parameters](#parameters-1)

### ls

[packages/ui/src/utils.ts:8-29](https://github.com/dyne/restroom-mw/blob/8bcf193be31549f8b5764f826d90bc30406c8b1a/packages/ui/src/utils.ts#L8-L29 "Source code on GitHub")

Reads the directory and list all the files
into an object with the full path

#### Parameters

*   `root` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Optional, second level root useful to restrict contracts
*   `isDataPublic` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** if true retrieve data from contracts
*   `path` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** for where to look at folders

Returns **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### generate

[packages/ui/src/openapi.ts:54-124](https://github.com/dyne/restroom-mw/blob/8bcf193be31549f8b5764f826d90bc30406c8b1a/packages/ui/src/openapi.ts#L54-L124 "Source code on GitHub")

*   **See**: [Openapi Specs](http://spec.openapis.org/oas/v3.0.3)

Generates an openapi definition out of the contracts in `ZENCODE_DIR`

#### Parameters

*   `rootPath` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** root folder directory to look for the swagger generation
*   `isDataPublic` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 
