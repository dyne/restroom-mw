# @restroom-mw/redis

Is a basic middleware to make basic operations on [redis](https://redis.io).

Interpretes the [actions](#action) to connect to a redis server and save the result with a `SET` or a `HMSET`.

## Usage

```js
import express from "express";
import zencode from "@restroom-mw/core";
import db from "@restroom-mw/redis";

const app = express();

app.use(redis);
app.use("/api/*", zencode);
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

*   [CONNECT](#connect)
    *   [Parameters](#parameters)
*   [SET](#set)
    *   [Parameters](#parameters-1)
*   [GET](#get)
    *   [Parameters](#parameters-2)
*   [SET_NAMED](#set_named)
    *   [Parameters](#parameters-3)
*   [GET_NAMED](#get_named)
    *   [Parameters](#parameters-4)
*   [GET_KEYS_CONTAIN](#get_keys_contain)
    *   [Parameters](#parameters-5)
*   [SET_OBJECT_NAMED](#set_object_named)
    *   [Parameters](#parameters-6)
*   [INCREMENT](#increment)
    *   [Parameters](#parameters-7)
*   [DEL](#del)
    *   [Parameters](#parameters-8)

### CONNECT

[packages/redis/src/actions.ts:7-7](https://github.com/dyne/restroom-mw/blob/e4ab3a7c7133e3353e1132db4cd3df886c1864fb/packages/redis/src/actions.ts#L7-L7 "Source code on GitHub")

`Given I have a redis connection on 'redis_url'`<br><br>
Connect to redis database at url *redis_url*

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### Parameters

*   `redis_url` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Connection url

### SET

[packages/redis/src/actions.ts:13-13](https://github.com/dyne/restroom-mw/blob/e4ab3a7c7133e3353e1132db4cd3df886c1864fb/packages/redis/src/actions.ts#L13-L13 "Source code on GitHub")

`Then I write data into redis under the key 'myKey'`<br><br>
Write into redis the zencode output under the key *myKey*

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### Parameters

*   `myKey` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable containing the key or the key itself

### GET

[packages/redis/src/actions.ts:20-20](https://github.com/dyne/restroom-mw/blob/e4ab3a7c7133e3353e1132db4cd3df886c1864fb/packages/redis/src/actions.ts#L20-L20 "Source code on GitHub")

`Given I read from redis the data under the key 'myKey' and save the output into 'myVariable'`<br><br>
Read from redis the data under the key *myKey* and save them in the data under the variable *myVariable*

#### Parameters

*   `myKey` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable containing the key or the key itself
*   `myVariable` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable where will be store the result

### SET_NAMED

[packages/redis/src/actions.ts:26-26](https://github.com/dyne/restroom-mw/blob/e4ab3a7c7133e3353e1132db4cd3df886c1864fb/packages/redis/src/actions.ts#L26-L26 "Source code on GitHub")

`Given/Then I write data into redis under the key named by 'myKey'`<br><br>
Write into redis the zencode output under the key named by *myKey*

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### Parameters

*   `myKey` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable containing the key

### GET_NAMED

[packages/redis/src/actions.ts:33-33](https://github.com/dyne/restroom-mw/blob/e4ab3a7c7133e3353e1132db4cd3df886c1864fb/packages/redis/src/actions.ts#L33-L33 "Source code on GitHub")

`Given I read from redis the data under the key named 'myKey' and save the output into 'myVariable'`<br><br>
Read from redis the data under the key *myKey* and save them in the data under the variable *myVariable*

#### Parameters

*   `myKey` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable containing the key or the key itself
*   `myVariable` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable where will be store the result

### GET_KEYS_CONTAIN

[packages/redis/src/actions.ts:40-40](https://github.com/dyne/restroom-mw/blob/e4ab3a7c7133e3353e1132db4cd3df886c1864fb/packages/redis/src/actions.ts#L40-L40 "Source code on GitHub")

`Given I read from redis the data under the key containing 'pattern' and save the output into 'myVariable'`<br><br>
Read from redis the data under the keys that contains the pattern *pattern* and save the result in the data under the variable *myVariable*

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### Parameters

*   `pattern` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable containing the pattern or the pattern itself
*   `myVariable` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the the variable where will be store the result

### SET_OBJECT_NAMED

[packages/redis/src/actions.ts:47-47](https://github.com/dyne/restroom-mw/blob/e4ab3a7c7133e3353e1132db4cd3df886c1864fb/packages/redis/src/actions.ts#L47-L47 "Source code on GitHub")

`Then I write 'myVariable' into redis under the key named by 'myKey'`<br><br>
Write into redis the value of *myVariable* under the key named by *myKey*

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### Parameters

*   `myVariable` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable containing the data to be stored
*   `myKey` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the the variable containing the key

### INCREMENT

[packages/redis/src/actions.ts:55-55](https://github.com/dyne/restroom-mw/blob/e4ab3a7c7133e3353e1132db4cd3df886c1864fb/packages/redis/src/actions.ts#L55-L55 "Source code on GitHub")

`Given I read into 'myVariable' and increment the key named by 'myKey'`<br><br>
Read from redis the data under the key *myKey*, save the result in the data under the variable *myVariable*
and increment the value of the data under *myKey* of one.

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### Parameters

*   `myVariable` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable where will be store the result
*   `key` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable containing the key or the key itself

### DEL

[packages/redis/src/actions.ts:61-61](https://github.com/dyne/restroom-mw/blob/e4ab3a7c7133e3353e1132db4cd3df886c1864fb/packages/redis/src/actions.ts#L61-L61 "Source code on GitHub")

`Then I remove the key 'myKey' in redis`<br><br>
Remove the data under the key *myKey* on redis

#### Parameters

*   `myKey` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable containing the key
