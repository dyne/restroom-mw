# @restroom-mw/files

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

*   [DOWNLOAD](#download)
    *   [Parameters](#parameters)
*   [STORE_RESULT](#store_result)
    *   [Parameters](#parameters-1)
*   [READ](#read)
    *   [Parameters](#parameters-2)
*   [READ_AND_SAVE](#read_and_save)
    *   [Parameters](#parameters-3)
*   [LS](#ls)
    *   [Parameters](#parameters-4)
*   [FILES_DIR](#files_dir)

### DOWNLOAD

[packages/files/src/actions.ts:10-10](https://github.com/dyne/restroom-mw/blob/157d039c44215a999e17400467c97fdacd9b014c/packages/files/src/actions.ts#L10-L10 "Source code on GitHub")

`Then I download the 'myUrl' and extract it into 'myFolder'`<br><br>
Download a zip file located at the url *myUrl* and extract it at the path
*myFolder*  under the *FILES_DIR* on the server.

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### Parameters

*   `myUrl` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable containing the url
*   `myFolder` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable containing the path to
    the folder where the data will be stored

### STORE_RESULT

[packages/files/src/actions.ts:19-19](https://github.com/dyne/restroom-mw/blob/157d039c44215a999e17400467c97fdacd9b014c/packages/files/src/actions.ts#L19-L19 "Source code on GitHub")

`Then I store 'myVariable' in the file 'myFile'`<br><br>
Store the content of the variable *myVariable* in the filesystem at the path
*myFile* under the *FILES_DIR* directory on the server

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### Parameters

*   `myVariable` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable containing the data to be stored
*   `myFile` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable containing the path to the file where
    the data will be stored

### READ

[packages/files/src/actions.ts:26-26](https://github.com/dyne/restroom-mw/blob/157d039c44215a999e17400467c97fdacd9b014c/packages/files/src/actions.ts#L26-L26 "Source code on GitHub")

`Given I read the content of 'myFile'`<br><br>
write the content of *myFile*, found under the *FILES_DIR* directory, in the data

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### Parameters

*   `myFile` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** It can be the name of the variable that contains the path
    to the file or the path itself

### READ_AND_SAVE

[packages/files/src/actions.ts:34-34](https://github.com/dyne/restroom-mw/blob/157d039c44215a999e17400467c97fdacd9b014c/packages/files/src/actions.ts#L34-L34 "Source code on GitHub")

`Given I read the content of 'myFile' and save the output into 'myVariable'`<br><br>
Write the content of *myFile* in the data under the key *myVariable*

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### Parameters

*   `myFile` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** It can be the name of the variable that contains the path
    to the file or the path itself
*   `myVariable` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable where the content of the file will be stored

### LS

[packages/files/src/actions.ts:62-62](https://github.com/dyne/restroom-mw/blob/157d039c44215a999e17400467c97fdacd9b014c/packages/files/src/actions.ts#L62-L62 "Source code on GitHub")

`Given I list the content of directory 'dir_path' as 'dir_result'`<br><br>
Write the list of objects found in *dir_path*, under the *FILES_DIR* directory, in the data,
the result is an array of dictionaries whose structure is:

    {
    atime: '2022-06-13T07:00:34.870Z',
    birthtime: '2022-06-13T07:00:34.870Z',
    blksize: 4096,
    blocks: 8,
    ctime: '2022-08-09T11:09:22.718Z',
    dev: 2055,
    gid: 1000,
    mode: '40755',
    mtime: '2022-08-09T11:09:22.718Z',
    name: 'zencode',
    nlink: 6,
    size: 4096,
    uid: 1000
    }

In particular, if `mode` starts with `40` the current item is a directory

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### Parameters

*   `dir_path` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Variable name containing the path to the directory
    under the *FILES_DIR* directory
*   `dir_result` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the variable where the result will be stored

### FILES_DIR

[packages/files/src/index.ts:20-20](https://github.com/dyne/restroom-mw/blob/157d039c44215a999e17400467c97fdacd9b014c/packages/files/src/index.ts#L20-L20 "Source code on GitHub")

Base dir to store data for the user

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)
