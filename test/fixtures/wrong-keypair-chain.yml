zenchain: 1.0
name: correct-keypair
start: create-pbkdf
blocks:
  create-pbkdf:
    type: zencode
    next: create-keypair
    fileKeys: create-pbkdf-input
  create-keypair:
    type: zencode
    next: verify-keypair
    fileKeys: create-keypair-input
  verify-keypair:
    type: zencode
    fileKeys: verify-keypair-input-wrong
    output: 
      isSameKeypair: contract.get("create-keypair").output[contract.get("create-keypair").keys.username].keypair.public_key === contract.get("verify-keypair").output[contract.get("verify-keypair").keys.username].keypair.public_key
      createKeypairOutput: contract.get("create-keypair").output